!function(e,t){"function"==typeof define&&(define.amd||define.cmd)?define("static/lib/qt_jssdk",function(){return t(e)}):t(e,!0)}(this,function(t,n){function i(e,n,i){t.QingtuiJSBridge?QingtuiJSBridge.invoke(e,o(n),function(t){r(e,t,i)}):u(e,i)}function o(e){return e=e||{},e.appId=QTconfig.appId,e.verifyAppId=QTconfig.appId,e.verifySignType="sha1",e.verifyTimestamp=QTconfig.timestamp+"",e.verifyNonceStr=QTconfig.nonceStr,e.verifySignature=QTconfig.signature,e}function r(e,t,n){console.log(e,n);var i,o,r;switch(delete t.err_code,delete t.err_desc,delete t.err_detail,i=t.errMsg,i||(i=t.err_msg||"failed_client_error",delete t.err_msg,i=s(e,i),t.errMsg=i),n=n||{},n._complete&&(n._complete(t),delete n._complete),i=t.errMsg||"",QTconfig.debug&&!n.isInnerInvoke&&alert(JSON.stringify(t)),o=i.indexOf(":"),r=i.substring(o+1)){case"ok":n.success&&n.success(t);break;case"cancel":n.cancel&&n.cancel(t);break;default:n.fail&&n.fail(t)}n.complete&&n.complete(t)}function s(e,t){var n,i,o=e,r=p[o];return r&&(o=r),n=t.substring(i+1),"confirm"==n&&(n="ok"),"failed"==n&&(n="fail"),-1!=n.indexOf("failed_")&&(n=n.substring(7)),-1!=n.indexOf("fail_")&&(n=n.substring(5)),n=n.replace(/_/g," "),n=n.toLowerCase(),("access denied"==n||"no permission to execute"==n)&&(n="permission denied"),"config"==o&&"function not exist"==n&&(n="ok"),""==n&&(n="fail"),t=o+":"+n}function c(e){var t,n,i;if(e){for(t=0;t<e.length;t++)n=e[t],i=m[n],i&&(e[t]=i);return e}}function u(e,t){if(!(!QTconfig.debug||t&&t.isInnerInvoke)){var n=h[e];n&&(e=n),t&&t._complete&&delete t._complete,console.log('"'+e+'",',t||"")}}function d(){0!=V.preVerifyState&&(M||I||QTconfig.debug||"420">O||V.systemType<0||J||(J=!0,V.appId=QTconfig.appId,V.initTime=k.initEndTime-k.initStartTime,V.preVerifyTime=k.preVerifyEndTime-k.preVerifyStartTime,L.getNetworkType({isInnerInvoke:!0,success:function(e){var t,n;V.networkType=e.networkType,t="http://open.weixin.qq.com/sdk/report?v="+V.version+"&o="+V.preVerifyState+"&s="+V.systemType+"&c="+V.clientVersion+"&a="+V.appId+"&n="+V.networkType+"&i="+V.initTime+"&p="+V.preVerifyTime+"&u="+V.url,n=new Image,console.log(t)}})))}function g(){return(new Date).getTime()}function f(e){_&&(t.QingtuiJSBridge?e():v.addEventListener&&v.addEventListener("QingtuiJSBridgeReady",e,!1))}function l(){L.invoke||(L.invoke=function(t,n,i){a.QingtuiJSBridge&&QingtuiJSBridge.invoke(t,e(n),i)},L.on=function(e,t){a.QingtuiJSBridge&&QingtuiJSBridge.on(e,t)})}var m,h,v,T,S,w,M,I,_,Q,b,O,J,P,k,V,A,G,L,B,j=(function(){var e;try{e=typeof t.webkit.messageHandlers.QingtuiJSBridge}catch(n){e="undefined"}return"undefined"!=typeof t.QingtuiJSBridge?"undefined"==typeof QingtuiJSBridge.invoke&&(QingtuiJSBridge._list={},QingtuiJSBridge.invoke=function(e,t,n){var i=Math.random().toString(36).replace("0.","qt");this._list[i]=n,this._invoke(JSON.stringify({funName:e,params:t,tag:i}))},QingtuiJSBridge._result=function(e,t,n,i){i=i||!1;var o=JSON.parse(t);this._list[n](o),i||delete this._list[n]}):"undefined"!=e&&(QingtuiJSBridge=t.webkit.messageHandlers.QingtuiJSBridge,"undefined"==typeof QingtuiJSBridge.invoke&&(QingtuiJSBridge._list={},QingtuiJSBridge.invoke=function(e,t,n){var i=Math.random().toString(36).replace("0.","qt");this._list[i]=n,this.postMessage(JSON.stringify({funName:e,params:t,tag:i}))},QingtuiJSBridge._result=function(e,t,n,i){i=i||!1;var o=JSON.parse(t);this._list[n](o),i||delete this._list[n]})),!0}(),function(){var e=3.141592653589793,t=6378245,n=.006693421622965943,i=function(t,n){var t=+t,n=+n,i=t-.0065,o=n-.006,r=Math.sqrt(i*i+o*o)-2e-5*Math.sin(o*e),a=Math.atan2(o,i)-3e-6*Math.cos(i*e),s=r*Math.cos(a),c=r*Math.sin(a);return[s,c]},o=function(t,n){var t=+t,n=+n,i=t,o=n,r=Math.sqrt(i*i+o*o)+2e-5*Math.sin(o*e),a=Math.atan2(o,i)+3e-6*Math.cos(i*e),s=r*Math.cos(a)+.0065,c=r*Math.sin(a)+.006;return[s,c]},r=function(i,o){var o=+o,i=+i;if(g(i,o))return[i,o];var r=u(i-105,o-35),a=d(i-105,o-35),s=o/180*e,c=Math.sin(s);c=1-n*c*c;var p=Math.sqrt(c);r=180*r/(t*(1-n)/(c*p)*e),a=180*a/(t/p*Math.cos(s)*e);var f=o+r,l=i+a;return[2*i-l,2*o-f]},a=function(i,o){var o=+o,i=+i;if(g(i,o))return[i,o];var r=u(i-105,o-35),a=d(i-105,o-35),s=o/180*e,c=Math.sin(s);c=1-n*c*c;var p=Math.sqrt(c);r=180*r/(t*(1-n)/(c*p)*e),a=180*a/(t/p*Math.cos(s)*e);var f=o+r,l=i+a;return[l,f]},s=function(e,t){var n=i(e,t);return r(n[0],n[1])},c=function(e,t){var n=a(e,t);return o(n[0],n[1])},u=function(t,n){var n=+n,t=+t,i=-100+2*t+3*n+.2*n*n+.1*t*n+.2*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*e)+20*Math.sin(2*t*e))/3,i+=2*(20*Math.sin(n*e)+40*Math.sin(n/3*e))/3,i+=2*(160*Math.sin(n/12*e)+320*Math.sin(n*e/30))/3},d=function(t,n){var n=+n,t=+t,i=300+t+2*n+.1*t*t+.1*t*n+.1*Math.sqrt(Math.abs(t));return i+=2*(20*Math.sin(6*t*e)+20*Math.sin(2*t*e))/3,i+=2*(20*Math.sin(t*e)+40*Math.sin(t/3*e))/3,i+=2*(150*Math.sin(t/12*e)+300*Math.sin(t/30*e))/3},g=function(e,t){var t=+t,e=+e;return!(e>73.66&&135.05>e&&t>3.86&&53.55>t)};return{bd09togcj02:i,gcj02tobd09:o,gcj02towgs84:r,bd09towgs84:s,wgs84togcj02:a,wgs84tobd09:c}}());return console.log(t,n),t.jQingTui?void 0:(m={config:"config",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"previewImage",closeAuthWebView:"closeAuthWebView",uploadTeamAuthImage:"uploadTeamAuthImage",downloadTeamAuthImage:"downloadTeamAuthImage",getLocation:"getLocation",startGeoLocation:"startGeoLocation",stopGeoLocation:"stopGeoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},h=function(){var e,t={};for(e in m)t[m[e]]=e;return t}(),v=t.document,T=v.title,S=navigator.userAgent.toLowerCase(),w=navigator.platform.toLowerCase(),M=!(!w.match("mac")&&!w.match("win")),I=-1!=S.indexOf("qtdebugger"),_=-1!=S.indexOf("qingtui"),Q=-1!=S.indexOf("android"),b=-1!=S.indexOf("iphone")||-1!=S.indexOf("ipad")||w.match("iphone"),O=function(){var e=S.match(/qingtui\/(\d+\.\d+\.\d+)/)||S.match(/qingtui\/(\d+)/);return e?e[1]:""}(),J=!1,P=!1,k={initStartTime:g(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},V={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",preVerifyState:1,systemType:b?1:Q?2:-1,clientVersion:O,url:encodeURIComponent(location.href)},QTconfig={debug:!1,check:!1},A={_completes:[]},G={state:0,data:{}},f(function(){k.initEndTime=g()}),B={coverntType:function(e,t){var n=e.type||"wgs84";e.longitude=parseFloat(e.longitude),e.latitude=parseFloat(e.latitude);var i=[e.longitude,e.latitude];V.clientVersion>=400&&"undefined"==typeof e.type&&2==V.systemType&&(n="bd09"),n!=t&&("bd09"==n&&"wgs84"==t?i=j.bd09towgs84(e.longitude,e.latitude):"bd09"==n&&"gcj02"==t?i=j.bd09togcj02(e.longitude,e.latitude):"gcj02"==n&&"wgs84"==t?i=j.gcj02towgs84(e.longitude,e.latitude):"gcj02"==n&&"bd09"==t?i=j.gcj02tobd09(e.longitude,e.latitude):"wgs84"==n&&"bd09"==t?i=j.wgs84tobd09(e.longitude,e.latitude):"wgs84"==n&&"gcj02"==t&&(i=j.wgs84togcj02(e.longitude,e.latitude))),e.longitude=i[0],e.latitude=i[1],delete e.type},geoOptionMap:{},geoProssStatus:!1,startGeoOPStatus:!1,geoProssRes:{latitude:1,longitude:2,precision:300,addr:"sss"},startGeoPross:function(e){var t,n=(new Date).getTime();i(m.startGeoLocation,e,function(){return e.success=function(e){B.geoProssRes=e,B.geoProssStatus=!0,t=(new Date).getTime(),console.log("geo pross is start",t-n),B.startGeoOPStatus||B.startGeoOP(),n=(new Date).getTime()},e}())},stopGeoPross:function(e){var t=B.geoOptionMap,n=JSON.stringify(t);if("{}"!=n)for(var o in t)t.hasOwnProperty(o)&&B.removeGeoOption(o);B.geoProssStatus?(i(m.stopGeoLocation,{},function(){return e._complete=function(){B.geoProssStatus=!1,B.startGeoOPStatus=!1},e}()),console.log("stopGeoLocation")):(e.success&&e.success(),console.log("stopGeoLocation id al"))},startGeoOP:function(){var e=B.geoOptionMap;B.startGeoOPStatus=!0;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t],i=n._success(t);n.geoId=i}},addGeoOption:function(e){var t=Math.random().toString().replace("0.","geo_");if(e._success=function(t){var n=setInterval(function(){var n=B.geoProssRes,i={latitude:n.latitude,longitude:n.longitude,precision:parseInt(n.precision),type:n.type,id:t};e.formatAddr&&(i.addr=n.addr),B.coverntType(i,e.type),e.success(i)},e.interval);return n},e.id=t,B.geoOptionMap[t]=e,B.startGeoOPStatus){var n=e._success(t);e.geoId=n}},removeGeoOption:function(e){var t=B.geoOptionMap[e];t.geoId&&(clearInterval(t.geoId),delete B.geoOptionMap[e])}},L={config:function(e){QTconfig=e,u("config",e);var t=QTconfig.check===!1?!1:!0;f(function(){var e,n,o;if(t)k.preVerifyStartTime=g(),i(m.config,{verifyJsApiList:c(QTconfig.jsApiList)},function(){A._complete=function(e){k.preVerifyEndTime=g(),G.state=1,G.data=e},A.success=function(){V.preVerifyState=0},A.fail=function(e){A._fail?A._fail(e):G.state=-1};var e=A._completes;return e.push(function(){d()}),A.complete=function(){for(var t=0,n=e.length;n>t;++t)e[t]();A._completes=[]},A}()),k.preVerifyStartTime=g();else{G.state=1;for(var e=A._completes,o=e.length,n=0;o>n;++n)e[n]();A._completes=[]}}),QTconfig.beta&&l()},chooseImage:function(e){i("chooseImage",{count:e.count||1,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e}())},previewImage:function(e){i(m.previewImage,{current:e.current,urls:e.urls},e)},closeAuthWebView:function(e){i(m.closeAuthWebView,{},e)},uploadTeamAuthImage:function(e){i(m.uploadTeamAuthImage,{localIds:e.localIds},e)},downloadTeamAuthImage:function(e){i(m.downloadTeamAuthImage,{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var t=S.match(/nettype\/(\w+)/);console.log(t),e.success&&t&&e.success({networkType:t[1]})},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){if(e=e||{},console.log(O),e.interval&&e.interval>0){if(430>O)return void(e.fail&&e.fail({errMsg:"client version not suppout interval"}));if(e.interval=e.interval<1e3?1e3:e.interval,B.geoProssStatus)B.addGeoOption(e);else{var t={};b&&(t.distance=10),Q&&(t.interval=1e3),B.startGeoPross(t),B.addGeoOption(e)}}else i(m.getLocation,{type:e.type||"wgs84",formatAddr:e.formatAddr||!1,interval:e.interval||0},function(){return e._complete=function(e){console.log(e),B.coverntType(e,this.type)},e}())},stopLocation:function(e){if(e=e||{},e.id){B.removeGeoOption(e.id);var t=JSON.stringify(B.geoOptionMap);"{}"==t?B.stopGeoPross(e):e.success&&e.success()}else B.stopGeoPross(e)},closeWindow:function(e){e=e||{},i("closeWindow",{},e)},scanQRCode:function(e){e=e||{},i("scanQRCode",{needResult:e.needResult||0},function(){return e._complete=function(e){var t,n;y=!1,y&&(t=e.resultStr,t&&(n=JSON.parse(t),e.resultStr=n&&n.scan_code&&n.scan_code.scan_result))},e}())},openChat:function(e){e=e||{},i("openChat",{chatType:e.chatType||"chat",chatId:e.chatId||""},e)},openSignChat:function(e){e=e||{},i("openSingleChatView",{id:e.id||"",scope:e.scope||"open"},e)},openInviteMember:function(e){e=e||{},i("openInviteMember",{},e)},getAuthNeededInfo:function(e){e=e||{},i("getAuthNeededInfo",{},e)},openUserDetail:function(e){e=e||{},i("openUserDetail",{id:e.id||"",scope:e.scope||"open"},e)},openContacts:function(e){e=e||{},i("openContacts",{max:e.max||1,multiple:e.multiple||!1,needSelf:e.needSelf||!0,scope:e.scope||"open",users:e.users||[],title:e.title||"选择联系人"},e)},getJsApiVersion:function(e){e=e||{},i("getJsApiVersion",{},e)},ajax:function(e){e=e||{};var t={url:e.url,header:e.header,method:e.type},n=e.dataType||"json";"post"==e.type.toLowerCase()?t.bodyParams=e.data:t.urlParams=e.data,"json"===n&&(e._complete=function(e){var t,n;t=e.result;try{n=JSON.parse(t)}catch(i){n=t}finally{e.result=n}}),i("sendHttp",t,e)},getClientInfo:function(e){e=e||{};var t={};return _?M?t.type="pc":Q?t.type="android":b&&(t.type="ios"):t.type="not QT client",t.version=O,e.success&&e.success(t),t}},n&&(t.qt=t.jQingTui=L),L)});