define("app/components/Sign/Input.jsx",function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(e,t,n){for(var i=!0;i;){var o=e,a=t,r=n;i=!1,null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,a);if(void 0!==c){if("value"in c)return c.value;var u=c.get;return void 0===u?void 0:u.call(r)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=a,n=r,i=!0,c=l=void 0}},l=e("node_modules/react/react"),s=i(l),h=e("node_modules/react-addons-pure-render-mixin/index"),f=i(h),v=function(e){function t(e,n){a(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.shouldComponentUpdate=f["default"].shouldComponentUpdate.bind(this),this.state={text:"",match:[],users:[]}}return r(t,e),c(t,[{key:"componentWillMount",value:function(){this.state.users=this.props.users}},{key:"componentDidMount",value:function(){}},{key:"componentWillReceiveProps",value:function(e){this.state.users=e.users}},{key:"matchMobile",value:function(e){var t=[],n=this.state.users;return n.map(function(n){-1===n.mobile.indexOf(e)||n.signed||t.push({mobile:n.mobile,active:!1})}),t}},{key:"downActiveMobile",value:function(){for(var e=this.state.match,t=!1,n=0;n<e.length;n++)if(e[n].active&&n!==e.length-1){t=!0,e[n].active=!1,e[n+1].active=!0;break}t||(e[0].active=!0,e[e.length-1].active=!1),this.setState({match:[].concat(o(e))})}},{key:"upActiveMobile",value:function(){for(var e=this.state.match,t=!1,n=0;n<e.length;n++)if(e[n].active&&0!==n){t=!0,e[n].active=!1,e[n-1].active=!0;break}t||(e[e.length-1].active=!0,e[0].active=!1),this.setState({match:[].concat(o(e))})}},{key:"handleChange",value:function(e){console.log(e.target.value);var t=this.matchMobile(e.target.value);this.setState({text:e.target.value,match:t})}},{key:"matchClickHandle",value:function(e){this.props.submitSign(e)}},{key:"submitSign",value:function(){var e="",t=this.state.match;if(0===t.length)alert("号码不存在");else{for(var n=0;n<t.length;n++)if(t[n].active){e=t[n].mobile;break}e||(e=t[0].mobile),this.props.submitSign(e)}}},{key:"handleSubmit",value:function(e){console.log(e.which),40===e.which?this.downActiveMobile():38===e.which?this.upActiveMobile():13===e.which&&this.submitSign()}},{key:"render",value:function(){var e=this;return s["default"].createElement("div",{className:"sign"},s["default"].createElement("input",{className:"new-todo",type:"text",placeholder:"请输入手机号",autoFocus:"true",value:this.state.text,onChange:this.handleChange.bind(this),onKeyDown:this.handleSubmit.bind(this)}),s["default"].createElement("div",{className:"auto-complete"},this.state.match.map(function(t){return s["default"].createElement("div",{className:"auto-complete-item "+(t.active?"active":""),key:t.mobile,onClick:e.matchClickHandle.bind(e,t.mobile)},t.mobile)})))}}]),t}(l.Component);t["default"]=v,n.exports=t["default"]});