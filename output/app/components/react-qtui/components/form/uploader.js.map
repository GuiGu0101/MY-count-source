{"version":3,"sources":["/app/components/react-qtui/components/form/uploader.js"],"names":[],"mappings":"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","file":"/app/components/react-qtui/components/form/uploader.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _assign = require('babel-runtime/core-js/object/assign');\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _icon = require('../icon');\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _deprecationWarning = require('../../utils/deprecationWarning');\n\nvar _deprecationWarning2 = _interopRequireDefault(_deprecationWarning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * qtui style uploader\n *\n */\nvar Uploader = function (_Component) {\n    (0, _inherits3.default)(Uploader, _Component);\n\n    function Uploader() {\n        (0, _classCallCheck3.default)(this, Uploader);\n        return (0, _possibleConstructorReturn3.default)(this, (Uploader.__proto__ || (0, _getPrototypeOf2.default)(Uploader)).apply(this, arguments));\n    }\n\n    (0, _createClass3.default)(Uploader, [{\n        key: 'detectVerticalSquash',\n\n\n        /**\n         * Detecting vertical squash in loaded image.\n         * Fixes a bug which squash image vertically while drawing into canvas for some images.\n         * This is a bug in iOS6 devices. This function from https://github.com/stomita/ios-imagefile-megapixel\n         * With react fix by n7best\n         */\n        value: function detectVerticalSquash(img) {\n            var data = void 0;\n            var ih = img.naturalHeight;\n            var canvas = document.createElement('canvas');\n            canvas.width = 1;\n            canvas.height = ih;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(img, 0, 0);\n            try {\n                // Prevent cross origin error\n                data = ctx.getImageData(0, 0, 1, ih).data;\n            } catch (err) {\n                // hopeless, assume the image is well and good.\n                console.log('Cannot check verticalSquash: CORS?');\n                return 1;\n            }\n            // search image edge pixel position in case it is squashed vertically.\n            var sy = 0;\n            var ey = ih;\n            var py = ih;\n            while (py > sy) {\n                var alpha = data[(py - 1) * 4 + 3];\n                if (alpha === 0) {\n                    ey = py;\n                } else {\n                    sy = py;\n                }\n                py = ey + sy >> 1;\n            }\n            var ratio = py / ih;\n            return ratio === 0 ? 1 : ratio;\n        }\n    }, {\n        key: 'handleFile',\n        value: function handleFile(file, cb) {\n            var _this2 = this,\n                _arguments = arguments;\n\n            var reader = void 0;\n            if (typeof FileReader !== 'undefined') {\n                reader = new FileReader();\n            } else {\n                if (window.FileReader) reader = new window.FileReader();\n            }\n\n            reader.onload = function (e) {\n                var img = void 0;\n                if (typeof Image !== 'undefined') {\n                    img = new Image();\n                } else {\n                    if (window.Image) img = new window.Image();\n                }\n                img.onload = function () {\n                    var w = Math.min(_this2.props.maxWidth, img.width);\n                    var h = img.height * (w / img.width);\n                    var canvas = document.createElement('canvas');\n                    var ctx = canvas.getContext('2d');\n\n                    //check canvas support, for test\n                    if (ctx) {\n                        //patch subsampling bug\n                        //http://jsfiddle.net/gWY2a/24/\n                        var drawImage = ctx.drawImage;\n                        ctx.drawImage = function (_img, sx, sy, sw, sh, dx, dy, dw, dh) {\n                            var vertSquashRatio = 1;\n                            // Detect if img param is indeed image\n                            if (!!_img && _img.nodeName === 'IMG') {\n                                vertSquashRatio = _this2.detectVerticalSquash(_img);\n                                if (typeof sw === 'undefined') sw = _img.naturalWidth;\n                                if (typeof sh === 'undefined') sh = _img.naturalHeight;\n                            }\n\n                            // Execute several cases (Firefox does not handle undefined as no param)\n                            // by call (apply is bad performance)\n                            if (_arguments.length === 9) drawImage.call(ctx, _img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);else if (typeof sw !== 'undefined') drawImage.call(ctx, _img, sx, sy, sw, sh / vertSquashRatio);else drawImage.call(ctx, _img, sx, sy);\n                        };\n\n                        canvas.width = w;\n                        canvas.height = h;\n                        ctx.drawImage(img, 0, 0, w, h);\n\n                        var base64 = canvas.toDataURL('image/png');\n\n                        cb({\n                            nativeFile: file,\n                            lastModified: file.lastModified,\n                            lastModifiedDate: file.lastModifiedDate,\n                            name: file.name,\n                            size: file.size,\n                            type: file.type,\n                            data: base64\n                        }, e);\n                    } else {\n                        cb(file, e);\n                    }\n                };\n                img.src = e.target.result;\n            };\n            reader.readAsDataURL(file);\n        }\n    }, {\n        key: 'handleChange',\n        value: function handleChange(e) {\n            var _this3 = this;\n\n            var langs = this.props.lang;\n            var _files = e.target.files;\n\n            if (_files.length === 0) return;\n\n            if (this.props.files.length >= this.props.maxCount) {\n                this.props.onError(langs.maxError(this.props.maxCount));\n                return;\n            }\n\n            for (var key in _files) {\n                if (!_files.hasOwnProperty(key)) continue;\n                var file = _files[key];\n\n                this.handleFile(file, function (_file, _e) {\n                    if (_this3.props.onChange) _this3.props.onChange(_file, _e);\n                    _reactDom2.default.findDOMNode(_this3.refs.uploader).value = '';\n                }, e);\n            }\n        }\n    }, {\n        key: 'renderFiles',\n        value: function renderFiles() {\n            var _this4 = this;\n\n            return this.props.files.map(function (file, idx) {\n                var url = file.url,\n                    error = file.error,\n                    status = file.status,\n                    onClick = file.onClick,\n                    others = (0, _objectWithoutProperties3.default)(file, ['url', 'error', 'status', 'onClick']);\n\n                var fileStyle = {\n                    backgroundImage: 'url(' + url + ')'\n                };\n                var cls = (0, _classnames2.default)({\n                    'qtui-uploader__file': true,\n                    'qtui-uploader__file_status': error || status\n                });\n\n                if (onClick) {\n                    (0, _deprecationWarning2.default)('File onClick', 'Uploader onFileClick');\n                }\n\n                var handleFileClick = onClick ? onClick : function (e) {\n                    if (_this4.props.onFileClick) _this4.props.onFileClick(e, file, idx);\n                };\n\n                return _react2.default.createElement(\n                    'li',\n                    (0, _extends3.default)({ className: cls, key: idx, style: fileStyle, onClick: handleFileClick }, others),\n                    error || status ? _react2.default.createElement(\n                        'div',\n                        { className: 'qtui-uploader__file-content' },\n                        error ? _react2.default.createElement(_icon2.default, { value: 'warn' }) : status\n                    ) : false\n                );\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                className = _props.className,\n                title = _props.title,\n                maxCount = _props.maxCount,\n                files = _props.files,\n                onChange = _props.onChange,\n                onFileClick = _props.onFileClick,\n                others = (0, _objectWithoutProperties3.default)(_props, ['className', 'title', 'maxCount', 'files', 'onChange', 'onFileClick']);\n\n            var inputProps = (0, _assign2.default)({}, others);\n            delete inputProps.lang;\n            delete inputProps.onError;\n            delete inputProps.maxWidth;\n\n            var cls = (0, _classnames2.default)((0, _defineProperty3.default)({\n                'qtui-uploader': true\n            }, className, className));\n\n            return _react2.default.createElement(\n                'div',\n                { className: cls },\n                _react2.default.createElement(\n                    'div',\n                    { className: 'qtui-uploader__hd' },\n                    _react2.default.createElement(\n                        'p',\n                        { className: 'qtui-uploader__title' },\n                        title\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'qtui-uploader__info' },\n                        files.length,\n                        '/',\n                        maxCount\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'qtui-uploader__bd' },\n                    _react2.default.createElement(\n                        'ul',\n                        { className: 'qtui-uploader__files' },\n                        this.renderFiles()\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: 'qtui-uploader__input-box' },\n                        _react2.default.createElement('input', (0, _extends3.default)({\n                            ref: 'uploader' //let react to reset after onchange\n                            , className: 'qtui-uploader__input',\n                            type: 'file',\n                            accept: 'image/*',\n                            onChange: this.handleChange.bind(this)\n                        }, inputProps))\n                    )\n                )\n            );\n        }\n    }]);\n    return Uploader;\n}(_react.Component);\n\nUploader.propTypes = {\n    /**\n     * title of uploader\n     *\n     */\n    title: _propTypes2.default.string,\n    /**\n     * max amount of allow file\n     *\n     */\n    maxCount: _propTypes2.default.number,\n    /**\n     * maxWidth of image for uploader to compress\n     *\n     */\n    maxWidth: _propTypes2.default.number,\n    /**\n     * when file change, pass property `(event, file)`\n     *\n     */\n    onChange: _propTypes2.default.func,\n    /**\n     * when there is error, pass property `msg`\n     *\n     */\n    onError: _propTypes2.default.func,\n    /**\n     * array of photos thumbnails to indicator status, include property `url`, `status`, `error`\n     *\n     */\n    files: _propTypes2.default.array,\n    /**\n     * languages object, with property `maxError`\n     *\n     */\n    lang: _propTypes2.default.object\n};\nUploader.defaultProps = {\n    title: '图片上传',\n    maxCount: 4,\n    maxWidth: 500,\n    files: [],\n    onChange: undefined,\n    onError: undefined,\n    lang: { maxError: function maxError(maxCount) {\n            return '\\u6700\\u591A\\u53EA\\u80FD\\u4E0A\\u4F20' + maxCount + '\\u5F20\\u56FE\\u7247';\n        } }\n};\nexports.default = Uploader;\n;\nmodule.exports = exports['default'];"]}