define("app/components/react-qtui/components/form/slider",function(e,t,a){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var u=e("node_modules/babel-runtime/helpers/extends"),n=s(u),l=e("node_modules/babel-runtime/helpers/objectWithoutProperties"),o=s(l),i=e("node_modules/babel-runtime/core-js/object/get-prototype-of"),r=s(i),d=e("node_modules/babel-runtime/helpers/classCallCheck"),h=s(d),p=e("node_modules/babel-runtime/helpers/createClass"),c=s(p),m=e("node_modules/babel-runtime/helpers/possibleConstructorReturn"),f=s(m),v=e("node_modules/babel-runtime/helpers/inherits"),b=s(v),g=e("node_modules/react/react"),_=s(g),T=e("node_modules/prop-types/index"),V=s(T),x=e("node_modules/react-dom/index"),y=s(x),S=e("node_modules/classnames/index"),E=s(S),I=function(e){function t(e){h["default"](this,t);var a=f["default"](this,(t.__proto__||r["default"](t)).call(this,e));return a.state={value:a.props.value?a.props.value:a.props.defaultValue?a.props.defaultValue:0,controlled:"undefined"!=typeof a.props.value,totalWidth:0,touching:!1,ogX:0,touchID:void 0,percent:a.props.value?parseInt(a.props.value/(a.props.max-a.props.min)*100):a.props.defaultValue?parseInt(a.props.defaultValue/(a.props.max-a.props.min)*100):0,animating:!1},a.handleTouchStart=a.handleTouchStart.bind(a),a.handleTouchMove=a.handleTouchMove.bind(a),a.handleTouchEnd=a.handleTouchEnd.bind(a),a.updateValue=a.updateValue.bind(a),a}return b["default"](t,e),c["default"](t,[{key:"componentDidMount",value:function(){0===this.state.value&&this.updateValue()}},{key:"componentWillReceiveProps",value:function(e){if(this.state.controlled&&e.value<=this.props.max&&e.value>=this.props.min){var t=parseInt(e.value/(this.props.max-this.props.min)*100);this.setState({value:e.value,percent:t})}}},{key:"updateValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!1,a=0,s=this.state.percent,u=this.props,n=u.min,l=u.max,o=u.step,i=u.onChange,r=parseInt((l-n)/o),d=parseInt(100/r);if(100===s)a=l;else if(0===s)a=n;else for(var h=0;r>h;h++)s>h*d&&(h+1)*d>=s&&(a=s-h*d>d/2?(h+1)*o+n:h*o+n);a!==this.state.value&&(this.setState({value:a}),i&&i(a)),t&&this.setState({percent:a===n?0:a===l?100:(a-n)/o*d,animating:!0},function(){return e.setState({animating:!1})})}},{key:"handleTouchStart",value:function(e){if(!this.state.touching&&!this.props.disabled){var t=y["default"].findDOMNode(this.refs.bar);this.setState({touching:!0,touchId:e.targetTouches[0].identifier,totalWidth:t.clientWidth,ogX:e.targetTouches[0].pageX,ogPercent:this.state.percent})}}},{key:"handleTouchMove",value:function(e){var t=this;if(this.state.touching&&!this.props.disabled&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var a=e.targetTouches[0].pageX,s=a-this.state.ogX,u=parseInt(s/this.state.totalWidth*100)+this.state.ogPercent;u=0>u?0:u>100?100:u,this.setState({percent:u},function(){return t.updateValue()})}}},{key:"handleTouchEnd",value:function(){this.state.touching&&!this.props.disabled&&(this.props.snapToValue&&this.updateValue(!0),this.setState({touching:!1,ogX:0,touchId:void 0,ogPercent:0}))}},{key:"render",value:function(){var e=this.props,t=e.className,a=(e.max,e.min,e.step,e.showValue),s=(e.value,e.disabled,e.defaultValue,e.onChange,e.snapToValue,o["default"](e,["className","max","min","step","showValue","value","disabled","defaultValue","onChange","snapToValue"])),u=E["default"]("qtui-slider-box",t),l={width:this.state.percent+"%"},i={left:this.state.percent+"%",transition:this.state.animating?"transform .3s":"none"};return _["default"].createElement("div",{className:u},_["default"].createElement("div",n["default"]({className:"qtui-slider"},s),_["default"].createElement("div",{className:"qtui-slider__inner",ref:"bar"},_["default"].createElement("div",{style:l,className:"qtui-slider__track"}),_["default"].createElement("div",{style:i,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,className:"qtui-slider__handler"}))),a?_["default"].createElement("div",{className:"qtui-slider-box__value"},this.state.value):!1)}}]),t}(g.Component);I.propTypes={max:V["default"].number,min:V["default"].number,step:V["default"].number,showValue:V["default"].bool,disabled:V["default"].bool,value:V["default"].number,defaultValue:V["default"].number,onChange:V["default"].func,snapToValue:V["default"].bool},I.defaultProps={max:100,min:0,step:1,showValue:!0,disabled:!1,defaultValue:0,snapToValue:!0},t["default"]=I,a.exports=t["default"]});