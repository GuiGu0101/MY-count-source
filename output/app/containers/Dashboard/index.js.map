{"version":3,"sources":["/app/containers/Dashboard/index.jsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;qBAG0C,OAAO;;;;0CACrB,gCAAgC;;;;wCACzB,kCAAkC;;IAAzD,iBAAiB;;GAEN;;IAEF,SAAS;cAAT,SAAS;;AACf,aADM,SAAS,CACd,KAAK,EAAE,OAAO,EAAE;8BADX,SAAS;;AAEtB,mCAFa,SAAS,6CAEhB,KAAK,EAAE,OAAO,EAAE;aAO1B,KAAK,GAAG,CAAC;AANL,YAAI,CAAC,qBAAqB,GAAG,wCAAgB,qBAAqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AAC9E,YAAI,CAAC,KAAK,GAAG;AACT,iBAAK,EAAE,EAAE;SACZ;KACJ;;iBAPgB,SAAS;;eAWf,uBAAG;;;AACV,gBAAM,CAAC,GAAG,iBAAiB,CAAC,WAAW,EAAE,CAAC;AAC1C,aAAC,CAAC,IAAI,CAAC,aAAG,EAAI;AACV,oBAAI,OAAO,GAAG,CAAC,IAAI,KAAK,UAAU,EAAE;AAChC,2BAAO,GAAG,CAAC,IAAI,EAAE,CAAC;iBACrB;AACD,uBAAO,GAAG,CAAC;aACd,CAAC,CAAC,IAAI,CAAC,cAAI,EAAI;AACZ,sBAAK,QAAQ,CAAC;AACV,yBAAK,EAAE,IAAI,CAAC,KAAK;iBACpB,CAAC;aACL,CAAC,CAAC;SACN;;;eAEe,4BAAG;;;AACf,gBAAI,IAAI,CAAC,KAAK,KAAK,CAAC,EAAE;AAClB,oBAAI,CAAC,WAAW,EAAE,CAAC;aACtB;AACD,gBAAI,CAAC,KAAK,GAAG,UAAU,CAAC,YAAM;AAC1B,uBAAK,WAAW,EAAE,CAAC;AACnB,uBAAK,gBAAgB,EAAE,CAAC;aAC3B,EAAE,KAAK,CAAC,CAAC;SAEb;;;eAEiB,8BAAG;AACjB,gBAAI,CAAC,gBAAgB,EAAE,CAAC;SAC3B;;;eAEmB,gCAAG;AACnB,wBAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SAC5B;;;eAGK,kBAAG;gBACE,KAAK,GAAI,IAAI,CAAC,KAAK,CAAnB,KAAK;;AACZ,mBACI;;kBAAK,SAAS,EAAC,SAAS;gBACpB;;sBAAK,SAAS,EAAC,YAAY;;iBAAoB;gBAC/C;;sBAAK,SAAS,EAAC,UAAU;oBACrB;;0BAAK,SAAS,EAAC,gBAAgB;wBAC3B;;;;yBAAc;wBACd;;;;yBAAa;wBACb;;;;yBAAe;wBACf;;;;yBAAe;wBACf;;;;yBAAc;qBACZ;oBAEF,KAAK,CAAC,GAAG,CAAC,UAAC,IAAI,EAAE,KAAK;+BAClB;;8BAAK,SAAS,EAAC,SAAS,EAAC,GAAG,EAAE,KAAM;4BAChC;;;gCAAM,IAAI,CAAC,EAAE;6BAAO;4BACpB;;;gCAAM,IAAI,CAAC,OAAO;6BAAO;4BACzB;;;gCAAM,IAAI,CAAC,IAAI;6BAAO;4BACtB;;;gCAAM,IAAI,CAAC,KAAK;6BAAO;4BACvB;;;gCAAM,IAAI,CAAC,KAAK;6BAAO;yBACrB;qBACT,CAAC;iBAEJ;aACJ,CACT;SACJ;;;WAxEgB,SAAS;;;qBAAT,SAAS","file":"/app/containers/Dashboard/index.jsx","sourcesContent":["/**\n * Created by guigu on 2017/8/13.\n */\nimport React, {PropTypes, Component} from 'react';\nimport PureRenderMixin from 'react-addons-pure-render-mixin';\nimport * as dashboardCallBack from '../../actions/CallBack/dashboard';\n\nimport 'dashborad.scss'\n\nexport default class Dashboard extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.shouldComponentUpdate = PureRenderMixin.shouldComponentUpdate.bind(this);\n        this.state = {\n            users: []\n        }\n    }\n\n    timer = 0;\n\n    getDashData() {\n        const p = dashboardCallBack.getDashData();\n        p.then(res => {\n            if (typeof res.json === 'function') {\n                return res.json();\n            }\n            return res;\n        }).then(data => {\n            this.setState({\n                users: data.users\n            })\n        });\n    }\n\n    runDashDataTimer() {\n        if (this.timer === 0) {\n            this.getDashData();\n        }\n        this.timer = setTimeout(() => {\n            this.getDashData();\n            this.runDashDataTimer();\n        }, 10000);\n\n    }\n\n    componentWillMount() {\n        this.runDashDataTimer();\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timer);\n    }\n\n\n    render() {\n        const {users} = this.state;\n        return (\n            <div className=\"main_BG\">\n                <div className=\"dash-title\">重庆魅友家3周年庆-积分榜</div>\n                <div className=\"jf-table\">\n                    <div className=\"jf-line header\">\n                        <div>签到号</div>\n                        <div>昵称</div>\n                        <div>陆上积分</div>\n                        <div>水上积分</div>\n                        <div>总积分</div>\n                    </div>\n                    {\n                        users.map((user, index) => (\n                            <div className=\"jf-line\" key={index}>\n                                <div>{user.no}</div>\n                                <div>{user.qq_name}</div>\n                                <div>{user.land}</div>\n                                <div>{user.water}</div>\n                                <div>{user.total}</div>\n                            </div>\n                        ))\n                    }\n                </div>\n            </div>\n        )\n    }\n}"]}