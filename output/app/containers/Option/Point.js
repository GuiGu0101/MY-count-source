define("app/containers/Option/Point.jsx",function(e,t,l){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l]);return t["default"]=e,t}function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var l=0;l<t.length;l++){var n=t[l];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,l,n){return l&&e(t.prototype,l),n&&e(t,n),t}}(),i=function(e,t,l){for(var n=!0;n;){var a=e,r=t,o=l;n=!1,null===a&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,r);if(void 0!==u){if("value"in u)return u.value;var i=u.get;return void 0===i?void 0:i.call(o)}var c=Object.getPrototypeOf(a);if(null===c)return void 0;e=c,t=r,l=o,n=!0,u=c=void 0}},c=e("node_modules/react/react"),s=a(c),f=e("node_modules/react-addons-pure-render-mixin/index"),d=a(f),m=e("node_modules/react-redux/lib/index"),p=e("app/components/react-qtui/index"),h=e("app/actions/CallBack/group.jsx"),v=n(h),y=function(e){return{baseInfo:e.baseInfo}},E=function(e){function t(e,t){r(this,l),i(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,e,t),this.shouldComponentUpdate=d["default"].shouldComponentUpdate.bind(this),this.state={first:"",second:"",third:"",type:"land",gameId:0,games:{land:[],water:[]}}}o(t,e),u(t,[{key:"formatGame",value:function(e){var t=[],l=[];e.map(function(e){"water"===e.type?l.push(e):t.push(e)}),this.setState({games:{land:t,water:l}})}},{key:"componentWillMount",value:function(){var e=this.props.baseInfo.games;this.formatGame(e)}},{key:"componentWillReceiveProps",value:function(e){var t=e.baseInfo.games;this.formatGame(t)}},{key:"componentDidMount",value:function(){}},{key:"submit",value:function(){var e=this,t=this.state,l=t.first,n=t.second,a=t.third,r=t.type,o=this.state.gameId;return""===l||""===n||""===l?(alert("有未填写的名次"),!1):(0===o&&(o=this.state.games[r][0].id),v.submitPoint({first:l,second:n,third:a,type:r,game_id:o}).then(function(e){return"function"==typeof e.json?e.json():e}).then(function(t){console.log(t),1!==t.status?alert(t.message):(alert("游戏名次登记成功"),e.setState({first:"",second:"",third:"",gameId:0}))}),!0)}},{key:"render",value:function(){var e=this,t=this.state,l=(t.user,t.type),n=t.games;return console.log(n),s["default"].createElement("div",null,s["default"].createElement("div",{style:{textAlign:"center",color:"#00ACDC",fontSize:"24px"}},"游戏名次登记"),s["default"].createElement(p.CellsTitle,null,"类型"),s["default"].createElement(p.Form,null,s["default"].createElement(p.FormCell,{select:!0,selectPos:"after"},s["default"].createElement(p.CellBody,null,s["default"].createElement(p.Select,{onChange:function(t){return e.setState({type:t.target.value})},value:this.state.type},s["default"].createElement("option",{value:"land"},"陆地"),s["default"].createElement("option",{value:"water"},"水上"))))),s["default"].createElement(p.CellsTitle,null,"游戏"),s["default"].createElement(p.Form,null,s["default"].createElement(p.FormCell,{select:!0,selectPos:"after"},s["default"].createElement(p.CellBody,null,s["default"].createElement(p.Select,{ref:"gameSelect",onChange:function(t){return e.setState({gameId:t.target.value})},value:this.state.gameId},n[l].map(function(e){return s["default"].createElement("option",{value:e.id,key:e.id},e.name)}))))),s["default"].createElement(p.CellsTitle,null,"名次"),s["default"].createElement(p.Form,null,s["default"].createElement(p.FormCell,null,s["default"].createElement(p.CellHeader,null,s["default"].createElement(p.Label,null,"第一名")),s["default"].createElement(p.CellBody,null,s["default"].createElement(p.Input,{type:"text",placeholder:"输入组内任一魅友编号",onChange:function(t){return e.setState({first:t.target.value})},value:this.state.first}))),s["default"].createElement(p.FormCell,null,s["default"].createElement(p.CellHeader,null,s["default"].createElement(p.Label,null,"第二名")),s["default"].createElement(p.CellBody,null,s["default"].createElement(p.Input,{type:"text",placeholder:"输入组内任一魅友编号",onChange:function(t){return e.setState({second:t.target.value})},value:this.state.second}))),s["default"].createElement(p.FormCell,null,s["default"].createElement(p.CellHeader,null,s["default"].createElement(p.Label,null,"第三名")),s["default"].createElement(p.CellBody,null,s["default"].createElement(p.Input,{type:"text",placeholder:"输入组内任一魅友编号",onChange:function(t){return e.setState({third:t.target.value})},value:this.state.third})))),s["default"].createElement(p.ButtonArea,null,s["default"].createElement(p.Button,{onClick:this.submit.bind(this)},"确认登记")))}}]);var l=t;return t=m.connect(y)(t)||t}(c.Component);t["default"]=E,l.exports=t["default"]});